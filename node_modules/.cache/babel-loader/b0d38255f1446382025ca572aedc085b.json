{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import{Redirect,withRouter}from'react-router-dom';import{setUserSession}from'./Common';import'./Login.css';import{FormErrors}from'./FormErrors';import axios from'axios';var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(props){var _this;_classCallCheck(this,Login);_this=_super.call(this,props);_this.handleUserInput=function(e){var name=e.target.name;var value=e.target.value;_this.setState(_defineProperty({},name,value),function(){_this.validateField(name,value);});};_this.handleSubmit=function(e){var self=_assertThisInitialized(_this);var username=_this.state.email.substring(0,_this.state.email.indexOf('@'));var apiLink='http://127.0.0.1:8000/api/checkUserValid';var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"\".concat(apiLink),{headers:{Accept:\"application/json\"}});case 2:res=_context.sent;console.log(res.data);console.log(res.data.joke);case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(){return _ref.apply(this,arguments);};}();// var data = JSON.stringify({\"email\":this.state.email,\"password\":this.state.password,\"usertype\":this.state.UserType});\n// var config = {\n//   method: 'get',\n//   url: 'http://127.0.0.1:8000/api/checkUserValid',\n//   headers: { \n//     'Authorization': 'Basic YWRtaW46MTIz', \n//     'Content-Type': 'application/json'\n//   },\n//   data : data\n// };\n// if (self.state.UserType ==='faculty') {\n//   var myHeaders = new Headers();\n//   myHeaders.append(\"Authorization\", \"Basic YWRtaW46MTIz\");\n//   myHeaders.append(\"Content-Type\", \"application/json\");\n//   var raw = JSON.stringify({\"email\":\"karthikeyan@gmail.com\",\"password\":\"karthi24\",\"usertype\":\"faculty\"});\n//   var requestOptions = {\n//     method: 'GET',\n//     headers: myHeaders,\n//     body: raw,\n//     redirect: 'follow'\n//   };\n//   fetch(\"http://127.0.0.1:8000/api/checkUserValid\", requestOptions)\n//     .then(response => response.text())\n//     .then(result => {\n//       console.log(result);\n//       if (result.status === 200) {\n//     self.setState({user:username}, () => {\n//       setUserSession(self.state.email, username, self.state.UserType);\n//       alert(\"Login Successful!\");\n//       self.props.history.push('/LMS/dashboardF');\n//     })\n//   }\n//   })\n//     .catch(error => console.log('error', error));\n// axios(config).then(function (response) {\n//   console.log(JSON.stringify(response.data));\n//   if (response.status === 200) {\n//     self.setState({user:username}, () => {\n//       setUserSession(self.state.email, username, self.state.UserType);\n//       alert(\"Login Successful!\");\n//       self.props.history.push('/LMS/dashboardF');\n// });\n//   }\n// })\n// .catch(function (error) {\n//   console.log(error);\n//   console.log(\"Invalid Username and Password!\");\n//   alert(\"Invalid Username and Password!\");\n// });\n// } else {\n//   alert(\"Student Dashboard not available!\");\n// }\n// var apiBaseUrl = \"http://127.0.0.1:8000/api/appUsers/\";\n// var self = this;\n// var payload = {\n//   \"email\": this.state.email,\n//   \"password\": this.state.password,\n//   \"usertype\": this.state.UserType\n// }\n// var username = this.state.email.substring(0,this.state.email.indexOf('@'));\n// axios.get(apiBaseUrl,payload,\n//   {auth: {\n//     username: 'admin',\n//     password: '123'\n//   }})\n//   .then(function (response) {\n//     if (response.status === 200) {\n//       self.setState({user:username}, () => {\n//         setUserSession(self.state.email, username, self.state.UserType);\n//         alert(\"Login Successful!\");\n//         if (self.state.UserType ==='faculty') {\n//         self.props.history.push('/LMS/dashboardF');\n//     } else {\n//       alert(\"Student Dashboard not available!\");\n//     }\n//   });\n//     }\n//   }).catch(function (error) {\n//   });\n//    e.preventDefault();    \n};_this.state={user:'',email:'',password:'',UserType:'',emailErrorMsg:{email:''},passwordErrorMsg:{password:''},emailValid:false,passwordValid:false,userTypeValid:false,loginButtonEnable:false};return _this;}_createClass(Login,[{key:\"validateField\",value:function validateField(fieldName,value){// let fieldValidationErrors = this.state.formErrors;\nvar emailValidationErrorMsg=this.state.emailErrorMsg;var passwordValidationErrorMsg=this.state.passwordErrorMsg;var emailValid=this.state.emailValid;var passwordValid=this.state.passwordValid;var userTypeValid=this.state.userTypeValid;//let userTypeValue = this.state.UserType;\nswitch(fieldName){case'email':if(value.length===0){emailValid=false;emailValidationErrorMsg.email='';}else if(value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,3})$/i)){emailValid=true;emailValidationErrorMsg.email='';}else{emailValid=false;emailValidationErrorMsg.email=' is invalid';}break;case'password':if(value.length>0&&value.length<6){passwordValid=false;passwordValidationErrorMsg.password=' length is less than 6';}else if(value.length>10){passwordValid=false;passwordValidationErrorMsg.password=' accepts max 10';}else if(value.length===0){passwordValid=false;passwordValidationErrorMsg.password='';}else{passwordValid=true;passwordValidationErrorMsg.password='';}break;default:// radio button selection for user selection\nuserTypeValid=true;//userTypeValue = value;\nbreak;}this.setState({emailErrorMsg:emailValidationErrorMsg,passwordErrorMsg:passwordValidationErrorMsg,emailValid:emailValid,passwordValid:passwordValid,userTypeValid:userTypeValid},this.loginForm);}},{key:\"loginForm\",value:function loginForm(){this.setState({loginButtonEnable:this.state.emailValid&&this.state.passwordValid&&this.state.userTypeValid});}},{key:\"errorClass\",value:function errorClass(error){return error.length===0?'':'has-error';}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"loginContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"login-menu\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign In\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"demoForm\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",required:true,name:\"email\",placeholder:\"Email\",value:this.state.email,onChange:this.handleUserInput})}),/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:/*#__PURE__*/_jsx(FormErrors,{formErrors:this.state.emailErrorMsg})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Password\",value:this.state.password,onChange:this.handleUserInput})}),/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:/*#__PURE__*/_jsx(FormErrors,{formErrors:this.state.passwordErrorMsg})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"student\",name:\"UserType\",checked:this.state.UserType===\"student\",onChange:this.handleUserInput}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"faculty\",name:\"UserType\",checked:this.state.UserType===\"faculty\",onChange:this.handleUserInput}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Faculty\",children:\"Faculty\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"register-menu\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/LMS/registration\",children:\"New User? Click Here To Register!\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Login\",disabled:!this.state.loginButtonEnable})]})]})});}}]);return Login;}(React.Component);export default withRouter(Login);","map":{"version":3,"sources":["D:/BITS/Web development/CodeBase/ReactAppWorkspace/src/components/Login.js"],"names":["React","Redirect","withRouter","setUserSession","FormErrors","axios","Login","props","handleUserInput","e","name","target","value","setState","validateField","handleSubmit","self","username","state","email","substring","indexOf","apiLink","fetchData","get","headers","Accept","res","console","log","data","joke","user","password","UserType","emailErrorMsg","passwordErrorMsg","emailValid","passwordValid","userTypeValid","loginButtonEnable","fieldName","emailValidationErrorMsg","passwordValidationErrorMsg","length","match","loginForm","error","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Redirect, withRouter } from 'react-router-dom';\nimport { setUserSession } from './Common';\nimport './Login.css';\nimport { FormErrors } from './FormErrors';\nimport axios from 'axios';\n\nclass Login extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: '',\n      email: '',\n      password: '',\n      UserType: '',\n      emailErrorMsg:{ email: ''},\n      passwordErrorMsg:{ password: ''},\n      emailValid: false,\n      passwordValid: false,\n      userTypeValid:false,\n      loginButtonEnable: false,\n    }\n    \n  }\n\n  handleUserInput = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({ [name]: value },\n      () => { this.validateField(name, value) });\n  }\n\n   validateField(fieldName, value) {\n    // let fieldValidationErrors = this.state.formErrors;\n    let emailValidationErrorMsg = this.state.emailErrorMsg;\n    let passwordValidationErrorMsg = this.state.passwordErrorMsg;\n    let emailValid = this.state.emailValid;\n    let passwordValid = this.state.passwordValid;\n    let userTypeValid = this.state.userTypeValid;\n    //let userTypeValue = this.state.UserType;\n\n\n    switch (fieldName) {\n      case 'email':\n        if (value.length===0) {\n          emailValid = false;\n          emailValidationErrorMsg.email = '';\n        } else if (value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,3})$/i)) {\n          emailValid = true;\n          emailValidationErrorMsg.email = '';\n        } else {\n          emailValid = false;\n          emailValidationErrorMsg.email = ' is invalid';\n        }\n        break;\n      case 'password':\n        if (value.length > 0 && value.length < 6) {\n          passwordValid=false;\n          passwordValidationErrorMsg.password = ' length is less than 6';\n        } else if (value.length > 10) {\n          passwordValid=false;\n          passwordValidationErrorMsg.password = ' accepts max 10';\n        } else if (value.length===0) {\n          passwordValid=false;\n          passwordValidationErrorMsg.password ='';\n        } else {\n          passwordValid=true;\n          passwordValidationErrorMsg.password ='';\n        }\n        break;\n      default:\n        // radio button selection for user selection\n        userTypeValid = true;\n        //userTypeValue = value;\n        break;\n    }\n    this.setState({\n      emailErrorMsg: emailValidationErrorMsg,\n      passwordErrorMsg: passwordValidationErrorMsg,\n      emailValid: emailValid,\n      passwordValid: passwordValid,\n      userTypeValid: userTypeValid\n    }, this.loginForm);\n  }\n\n  loginForm() {\n    this.setState({ loginButtonEnable: this.state.emailValid && this.state.passwordValid && this.state.userTypeValid });\n  }\n\n  errorClass(error) {\n    return (error.length === 0 ? '' : 'has-error');\n  }\n\n  \nhandleSubmit = (e) => {\nvar self = this;\nvar username = this.state.email.substring(0,this.state.email.indexOf('@'));\nvar apiLink='http://127.0.0.1:8000/api/checkUserValid';\nconst fetchData = async () => {\n  const res = await axios.get(`${apiLink}`, { headers: { Accept: \"application/json\" } });\n  console.log(res.data);\n  console.log(res.data.joke)\n}\n// var data = JSON.stringify({\"email\":this.state.email,\"password\":this.state.password,\"usertype\":this.state.UserType});\n// var config = {\n//   method: 'get',\n//   url: 'http://127.0.0.1:8000/api/checkUserValid',\n//   headers: { \n//     'Authorization': 'Basic YWRtaW46MTIz', \n//     'Content-Type': 'application/json'\n//   },\n//   data : data\n// };\n// if (self.state.UserType ==='faculty') {\n//   var myHeaders = new Headers();\n//   myHeaders.append(\"Authorization\", \"Basic YWRtaW46MTIz\");\n//   myHeaders.append(\"Content-Type\", \"application/json\");\n  \n//   var raw = JSON.stringify({\"email\":\"karthikeyan@gmail.com\",\"password\":\"karthi24\",\"usertype\":\"faculty\"});\n  \n//   var requestOptions = {\n//     method: 'GET',\n//     headers: myHeaders,\n//     body: raw,\n//     redirect: 'follow'\n//   };\n  \n//   fetch(\"http://127.0.0.1:8000/api/checkUserValid\", requestOptions)\n//     .then(response => response.text())\n//     .then(result => {\n//       console.log(result);\n//       if (result.status === 200) {\n//     self.setState({user:username}, () => {\n      \n//       setUserSession(self.state.email, username, self.state.UserType);\n//       alert(\"Login Successful!\");\n      \n//       self.props.history.push('/LMS/dashboardF');\n//     })\n//   }\n//   })\n//     .catch(error => console.log('error', error));\n// axios(config).then(function (response) {\n//   console.log(JSON.stringify(response.data));\n//   if (response.status === 200) {\n//     self.setState({user:username}, () => {\n      \n//       setUserSession(self.state.email, username, self.state.UserType);\n//       alert(\"Login Successful!\");\n      \n//       self.props.history.push('/LMS/dashboardF');\n  \n// });\n\n//   }\n// })\n// .catch(function (error) {\n//   console.log(error);\n//   console.log(\"Invalid Username and Password!\");\n//   alert(\"Invalid Username and Password!\");\n// });\n// } else {\n//   alert(\"Student Dashboard not available!\");\n// }\n\n    // var apiBaseUrl = \"http://127.0.0.1:8000/api/appUsers/\";\n    // var self = this;\n    // var payload = {\n    //   \"email\": this.state.email,\n    //   \"password\": this.state.password,\n    //   \"usertype\": this.state.UserType\n    // }\n    // var username = this.state.email.substring(0,this.state.email.indexOf('@'));\n\n    // axios.get(apiBaseUrl,payload,\n    //   {auth: {\n    //     username: 'admin',\n    //     password: '123'\n    //   }})\n    //   .then(function (response) {\n       \n    //     if (response.status === 200) {\n    //       self.setState({user:username}, () => {\n    //         setUserSession(self.state.email, username, self.state.UserType);\n    //         alert(\"Login Successful!\");\n    //         if (self.state.UserType ==='faculty') {\n    //         self.props.history.push('/LMS/dashboardF');\n    //     } else {\n    //       alert(\"Student Dashboard not available!\");\n    //     }\n    //   });\n\n    //     }\n    //   }).catch(function (error) {\n        \n    //   });\n    //    e.preventDefault();    \n  }\n\n  render() {\n    return (\n      <div className=\"loginContainer\">\n        <div className=\"login-menu\">\n         <h1>Sign In</h1> \n          <form className=\"demoForm\" onSubmit={this.handleSubmit}>\n         \n            <div >\n              <input type=\"email\" required name=\"email\"\n                placeholder=\"Email\"\n                value={this.state.email}\n                onChange={this.handleUserInput} />\n            </div>\n            <div className='error-message' >\n              <FormErrors formErrors={this.state.emailErrorMsg} />\n            </div>\n            <div >\n              <input type=\"password\" name=\"password\"\n                placeholder=\"Password\"\n                value={this.state.password}\n                onChange={this.handleUserInput} />\n            </div>\n            <div className='error-message' >\n              <FormErrors formErrors={this.state.passwordErrorMsg} />\n            </div>\n            <div >\n              <input type=\"radio\" value=\"student\" name=\"UserType\"\n                checked={this.state.UserType === \"student\"}\n                onChange={this.handleUserInput} />\n              <label htmlFor=\"Student\">Student</label>\n              <input type=\"radio\" value=\"faculty\" name=\"UserType\" checked={this.state.UserType === \"faculty\"}\n                onChange={this.handleUserInput} />\n              <label htmlFor=\"Faculty\">Faculty</label>\n            </div>\n            <div className=\"register-menu\">\n            \n              <a href='/LMS/registration'>New User? Click Here To Register!</a>\n          \n          </div>\n            <input type='submit' value='Login' disabled={!this.state.loginButtonEnable} />\n          </form>\n          </div>  \n      </div>\n    )\n  }\n\n}\nexport default withRouter(Login);\n"]},"metadata":{},"sourceType":"module"}