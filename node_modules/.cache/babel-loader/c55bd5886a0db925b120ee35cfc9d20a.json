{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"D:/BITS/Web development/CodeBase/ReactAppWorkspace/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import'./Registration.css';import{FormErrors}from'./FormErrors';import axios from'axios';var Registration=/*#__PURE__*/function(_React$Component){_inherits(Registration,_React$Component);var _super=_createSuper(Registration);function Registration(props){var _this;_classCallCheck(this,Registration);_this=_super.call(this,props);_this.handleUserInput=function(e){var name=e.target.name;var value=e.target.value;_this.setState(_defineProperty({},name,value),function(){_this.validateField(name,value);});};_this.pwdCriteriaOnClick=function(e){if(_this.state.Password.length===0){var pwdCriteria=_this.state.passwordCriteria;pwdCriteria.password=' criteria: should contain 6 to 10 character lenght!';_this.setState({passwordCriteria:pwdCriteria});}};_this.handleSubmit=function(e){if(_this.state.passwordValid){var apiBaseUrl=\"http://127.0.0.1:8000/api/appUsers/\";var self=_assertThisInitialized(_this);var payload={\"email\":_this.state.Email,\"password\":_this.state.Password,\"usertype\":_this.state.role,\"fullname\":_this.state.FullName,\"DOB\":_this.state.dob};axios.post(apiBaseUrl,payload,{auth:{username:'admin',password:'123'}}).then(function(response){if(response.status===201){alert(\"Registration successfull. Redirecting to login page!\");self.props.history.push('/');}}).catch(function(error){console.log(\"User already Registered!\");alert(\"User already Registered!\");});e.preventDefault();}else{alert(_this.state.passwordErrorMsg);e.preventDefault();}};_this.state={FullName:'',Email:'',Password:'',dob:'',role:'',skills:[],emailErrorMsg:{email:''},dobErrorMsg:{dob:''},usernameErrorMsg:{name:''},passwordCriteria:{password:''},passwordErrorMsg:'',emailValid:false,passwordValid:false,dobValid:false,roleValid:false,usernameValid:false,RegistrationEnable:false};return _this;}_createClass(Registration,[{key:\"validateField\",value:function validateField(fieldName,value){var emailValidationErrorMsg=this.state.emailErrorMsg;var dobValidationErrorMsg=this.state.dobErrorMsg;var usernameValidationErrorMsg=this.state.usernameErrorMsg;var emailValid=this.state.emailValid;var roleValid=this.state.roleValid;var dobValid=this.state.dobValid;var usernameValid=this.state.usernameValid;var pwdValid=this.state.passwordValid;var pwdError=this.state.passwordErrorMsg;var pwdCriteria=this.state.passwordCriteria;switch(fieldName){case'Email':if(value.length===0){emailValid=false;emailValidationErrorMsg.email='';}else if(value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,3})$/i)){emailValid=true;emailValidationErrorMsg.email='';}else{emailValid=false;emailValidationErrorMsg.email=' is invalid!';}break;case'dob':if(value.match(/^([0-9]{2})\\/([0-9]{2})\\/([0-9]{4})$/)){dobValid=true;dobValidationErrorMsg.dob='';}else if(value.length===0){dobValid=false;dobValidationErrorMsg.dob='';}else{dobValid=false;dobValidationErrorMsg.dob=' invalid date format!';}break;case'FullName':if(value.length===0){usernameValid=false;usernameValidationErrorMsg.name='';}else{usernameValid=true;usernameValidationErrorMsg.name='';}break;case'Password'://Password error message creation\npwdCriteria.password=' criteria: should contain 6 to 10 character lenght!';if(value.length>0&&value.length<6){pwdValid=false;pwdError='Password length is less than 6!';}else if(value.length>10){pwdValid=false;pwdError='Password length is more than 10!';}else if(value.length===0){pwdValid=false;pwdError='';pwdCriteria.password='';}else{pwdValid=true;pwdError='';}break;default:// radio button selection for user selection\nroleValid=true;break;}this.setState({emailErrorMsg:emailValidationErrorMsg,emailValid:emailValid,dobValid:dobValid,dobErrorMsg:dobValidationErrorMsg,roleValid:roleValid,usernameValid:usernameValid,usernameErrorMsg:usernameValidationErrorMsg,passwordErrorMsg:pwdError,passwordValid:pwdValid,passwordCriteria:pwdCriteria},this.validateRegistration);}},{key:\"validateRegistration\",value:function validateRegistration(){this.setState({RegistrationEnable:this.state.emailValid&&this.state.dobValid&&this.state.usernameValid&&this.state.roleValid});}},{key:\"errorClass\",value:function errorClass(error){return error.length===0?'':'has-error';}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"registrationContainer\",children:/*#__PURE__*/_jsx(\"form\",{className:\"RegisterForm\",onSubmit:this.handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{children:[/*#__PURE__*/_jsx(\"legend\",{children:\"Registration Form\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"UserRole\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"student\",name:\"role\",checked:this.state.role===\"student\",onChange:this.handleUserInput}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Student\",children:\"Student\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",value:\"faculty\",name:\"role\",checked:this.state.role===\"faculty\",onChange:this.handleUserInput}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"Faculty\",children:\"Faculty\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"UserDetails\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your email id [username]*\",name:\"Email\",value:this.state.Email,onChange:this.handleUserInput,required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:/*#__PURE__*/_jsx(FormErrors,{formErrors:this.state.emailErrorMsg})}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Create Password *\",name:\"Password\",value:this.state.Password,onClick:this.pwdCriteriaOnClick,onChange:this.handleUserInput,required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"password-criteria\",children:/*#__PURE__*/_jsx(FormErrors,{formErrors:this.state.passwordCriteria})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter your full name *\",name:\"FullName\",value:this.state.FullName,onChange:this.handleUserInput,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter Date-Of-Birth (dd/mm/yyyy) *\",name:\"dob\",value:this.state.dob,onChange:this.handleUserInput,required:true}),/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:/*#__PURE__*/_jsx(FormErrors,{formErrors:this.state.dobErrorMsg})}),/*#__PURE__*/_jsx(\"div\",{className:\"signIn-menu\",children:/*#__PURE__*/_jsx(\"a\",{href:\"/\",children:\"Go Back To Sign-In!\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"submit\",value:\"Register\",disabled:!this.state.RegistrationEnable})]})]})})});}}]);return Registration;}(React.Component);export default Registration;","map":{"version":3,"sources":["D:/BITS/Web development/CodeBase/ReactAppWorkspace/src/components/Registration.js"],"names":["React","FormErrors","axios","Registration","props","handleUserInput","e","name","target","value","setState","validateField","pwdCriteriaOnClick","state","Password","length","pwdCriteria","passwordCriteria","password","handleSubmit","passwordValid","apiBaseUrl","self","payload","Email","role","FullName","dob","post","auth","username","then","response","status","alert","history","push","catch","error","console","log","preventDefault","passwordErrorMsg","skills","emailErrorMsg","email","dobErrorMsg","usernameErrorMsg","emailValid","dobValid","roleValid","usernameValid","RegistrationEnable","fieldName","emailValidationErrorMsg","dobValidationErrorMsg","usernameValidationErrorMsg","pwdValid","pwdError","match","validateRegistration","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './Registration.css'\nimport { FormErrors } from './FormErrors';\nimport axios from 'axios';\nclass Registration extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      FullName: '',\n      Email: '',\n      Password: '',\n      dob:'',\n      role: '',\n      skills: [],\n      emailErrorMsg:{ email: ''},\n      dobErrorMsg:{ dob: ''},\n      usernameErrorMsg:{ name: ''},\n      passwordCriteria:{ password: ''},\n      passwordErrorMsg:'',\n      emailValid: false,\n      passwordValid: false,\n      dobValid: false,\n      roleValid: false,\n      usernameValid:false,\n      RegistrationEnable: false,\n    }\n  }\n  handleUserInput = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({ [name]: value },\n      () => { this.validateField(name, value) });\n  }\n  \n  pwdCriteriaOnClick = (e)=>{\n    if (this.state.Password.length===0){\n    let pwdCriteria = this.state.passwordCriteria;\n    pwdCriteria.password=' criteria: should contain 6 to 10 character lenght!';\n    this.setState({passwordCriteria:pwdCriteria});\n  }\n  }\n  \n  validateField(fieldName, value) {\n    let emailValidationErrorMsg = this.state.emailErrorMsg;\n    let dobValidationErrorMsg = this.state.dobErrorMsg;\n    let usernameValidationErrorMsg = this.state.usernameErrorMsg;\n    let emailValid = this.state.emailValid;\n    let roleValid = this.state.roleValid;\n    let dobValid = this.state.dobValid;\n    let usernameValid = this.state.usernameValid;\n    let pwdValid = this.state.passwordValid;\n    let pwdError = this.state.passwordErrorMsg;\n    let pwdCriteria = this.state.passwordCriteria;\n\n    switch (fieldName) {\n      case 'Email':\n        if (value.length===0) {\n          emailValid = false;\n          emailValidationErrorMsg.email = '';\n        } else if (value.match(/^([\\w.%+-]+)@([\\w-]+\\.)+([\\w]{2,3})$/i)) {\n          emailValid = true;\n          emailValidationErrorMsg.email = '';\n        } else {\n          emailValid = false;\n          emailValidationErrorMsg.email = ' is invalid!';\n        }\n        break;\n      case 'dob':\n        if(value.match(/^([0-9]{2})\\/([0-9]{2})\\/([0-9]{4})$/)){\n          dobValid = true;\n          dobValidationErrorMsg.dob = '';\n        } else if (value.length===0) {\n          dobValid=false;\n          dobValidationErrorMsg.dob = '';\n        } else {\n          dobValid=false;\n          dobValidationErrorMsg.dob = ' invalid date format!';\n        }\n        break;\n        case 'FullName':\n          if (value.length===0) {\n            usernameValid=false;\n            usernameValidationErrorMsg.name = '';\n          } else {\n            usernameValid=true;\n            usernameValidationErrorMsg.name = '';\n          }\n          break; \n        case 'Password':\n            //Password error message creation\n            pwdCriteria.password=' criteria: should contain 6 to 10 character lenght!';\n          if (value.length > 0 && value.length < 6) {\n            pwdValid=false;\n            pwdError = 'Password length is less than 6!';\n           } else if (value.length > 10) {\n            pwdValid=false;\n            pwdError = 'Password length is more than 10!';\n          } else if (value.length===0) {\n            pwdValid=false;\n            pwdError ='';\n            pwdCriteria.password='';\n          } else {\n            pwdValid=true;\n            pwdError ='';\n          }\n          break; \n      default:\n        // radio button selection for user selection\n        roleValid = true;\n        break;\n    }\n    this.setState({\n      emailErrorMsg: emailValidationErrorMsg,\n      emailValid: emailValid,\n      dobValid: dobValid,\n      dobErrorMsg: dobValidationErrorMsg,\n      roleValid: roleValid,\n      usernameValid: usernameValid,\n      usernameErrorMsg: usernameValidationErrorMsg,\n      passwordErrorMsg: pwdError, \n      passwordValid: pwdValid,\n      passwordCriteria: pwdCriteria\n\n    }, this.validateRegistration);\n  }\n\n  validateRegistration() {\n    this.setState({ RegistrationEnable: this.state.emailValid && this.state.dobValid && this.state.usernameValid && this.state.roleValid });\n  }\n\n  errorClass(error) {\n    return (error.length === 0 ? '' : 'has-error');\n  }\n\n\n  handleSubmit = (e) => {\n    \n    if (this.state.passwordValid) {\n      var apiBaseUrl = \"http://127.0.0.1:8000/api/appUsers/\";\n      var self = this;\n      var payload = {\n        \"email\": this.state.Email,\n        \"password\": this.state.Password,\n        \"usertype\": this.state.role,\n        \"fullname\":this.state.FullName,\n        \"DOB\":this.state.dob\n      } \n      axios.post(apiBaseUrl, payload,\n          {auth: {\n            username: 'admin',\n            password: '123'\n          }})\n        .then(function (response) {\n         \n          if (response.status === 201) {  \n              alert(\"Registration successfull. Redirecting to login page!\");\n              self.props.history.push('/');         \n          }\n        })\n        .catch(function (error) {\n          console.log(\"User already Registered!\");\n          alert(\"User already Registered!\");\n        });\n         e.preventDefault();\n    } else {\n      alert(this.state.passwordErrorMsg);\n      e.preventDefault();\n    }\n\n  }\n\n  render() {\n      return (\n        <div className=\"registrationContainer\">\n          <form className=\"RegisterForm\" onSubmit={this.handleSubmit}  >\n            <fieldset>\n              <legend>Registration Form</legend>\n              <div className=\"UserRole\">\n\n                <input type=\"radio\" value=\"student\" name =\"role\"\n                  checked={this.state.role === \"student\"}\n                  onChange={this.handleUserInput} />\n                <label htmlFor=\"Student\">Student</label>\n\n                <input type=\"radio\" value=\"faculty\" name =\"role\"\n                checked={this.state.role === \"faculty\"}\n                  onChange={this.handleUserInput} />\n                <label htmlFor=\"Faculty\">Faculty</label>\n              </div>\n\n              <div className=\"UserDetails\">\n             \n                <input\n                  type=\"text\"\n                  placeholder=\"Enter your email id [username]*\"\n                  name=\"Email\"\n                  value={this.state.Email}\n                  onChange={this.handleUserInput}\n                  required\n                />\n                 <div className='error-message' >\n             <FormErrors formErrors={this.state.emailErrorMsg} />\n             </div>\n\n                <input\n                  type=\"password\"\n                  placeholder=\"Create Password *\"\n                  name=\"Password\"\n                  value={this.state.Password}\n                  onClick={this.pwdCriteriaOnClick}\n                  onChange= {this.handleUserInput}\n                  required\n                />\n                 <div className='password-criteria' >\n              <FormErrors formErrors={this.state.passwordCriteria} />\n              </div>\n               <input\n                  type=\"text\"\n                  placeholder=\"Enter your full name *\"\n                  name=\"FullName\"\n                  value={this.state.FullName}\n                  onChange={this.handleUserInput}\n                  required\n                />\n                        \n              <input\n                type=\"text\"\n                placeholder=\"Enter Date-Of-Birth (dd/mm/yyyy) *\"\n                name=\"dob\"\n                value={this.state.dob}\n                onChange={this.handleUserInput}\n                required\n              />\n              <div className='error-message' >\n              <FormErrors formErrors={this.state.dobErrorMsg} />\n              </div>\n              <div className=\"signIn-menu\">\n              <a href='/'>Go Back To Sign-In!</a>\n              </div>\n              <input type='submit' value='Register' disabled={!this.state.RegistrationEnable} />\n              </div>\n                            \n            </fieldset>\n          </form>\n        </div>\n      );\n    \n  }\n}\n\n\nexport default Registration;\n"]},"metadata":{},"sourceType":"module"}